# SW403 RAG System - Environment Configuration
# Copy this file to .env and customize for your testing needs

# ============================================
# EMBEDDING MODEL CONFIGURATION
# ============================================
# Model name from HuggingFace sentence-transformers
# Options:
#   - sentence-transformers/all-MiniLM-L6-v2 (default, 384 dim, fast)
#   - sentence-transformers/all-mpnet-base-v2 (768 dim, best quality)
#   - BAAI/bge-small-en-v1.5 (384 dim, state-of-the-art)
#   - microsoft/codebert-base (768 dim, code-specific)
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Batch size for embedding generation (higher = faster but more memory)
EMBEDDING_BATCH_SIZE=32

# Maximum tokens per text chunk (affects truncation)
EMBEDDING_MAX_TOKENS=400

# ============================================
# QDRANT VECTOR STORE CONFIGURATION
# ============================================
# Qdrant host (use 'qdrant' for Docker, 'localhost' for local dev)
QDRANT_HOST=qdrant
QDRANT_PORT=6333

# Collection names for P1 and P2
P1_COLLECTION_NAME=functions_p1
P2_COLLECTION_NAME=functions_p2

# Distance metric (Cosine, Euclid, Dot)
VECTOR_DISTANCE_METRIC=Cosine

# ============================================
# QUERY/SEARCH CONFIGURATION
# ============================================
# Default number of results to return
DEFAULT_TOP_K=5

# Minimum similarity threshold (0.0 to 1.0)
DEFAULT_SIMILARITY_THRESHOLD=0.0

# Enable query result caching (true/false)
ENABLE_QUERY_CACHE=false

# ============================================
# API SERVER CONFIGURATION
# ============================================
# P1 API port
P1_API_PORT=8001

# P2 API port
P2_API_PORT=8002

# API request timeout (seconds)
API_TIMEOUT=30

# Enable detailed logging (true/false)
ENABLE_DEBUG_LOGGING=false

# ============================================
# PERFORMANCE TUNING
# ============================================
# Number of CPU cores to use (0 = auto-detect)
CPU_CORES=0

# Enable GPU acceleration (true/false, requires CUDA)
USE_GPU=false

# Memory limit per container (e.g., 2g, 4g, 8g)
MEMORY_LIMIT=4g

# ============================================
# EXPERIMENTAL / TESTING
# ============================================
# Enable experimental features (true/false)
ENABLE_EXPERIMENTAL=false

# Chunking strategy override for testing
# P1: regex, simple_ast
# P2: ast_semantic, ast_enhanced
P1_CHUNKING_STRATEGY=simple_ast
P2_CHUNKING_STRATEGY=ast_semantic

# Enable performance metrics collection (true/false)
COLLECT_METRICS=true
